{% extends 'base.html' %}
{% load static %}
{% block body %}
    <div style="text-align: center;">
        <h1 class="Dovemayo_gothic" style="font-size: 37px; font-weight: bold;">ì„¤ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ˜†</h1>
        <h1 class="Dovemayo_gothic" style="margin-top:100px; font-size: 20px; font-weight: bold;">ì—¬í–‰ ì¶”ì²œ AI RODIì˜ ì¶”ì²œì—¬í–‰ì§€ê°€ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?</h1>
        <form id="surveyend" method="POST" action="{% url 'Researches:surveyend' %}">
            {% csrf_token %}
            <button type="submit" class="home-button btn btn-light border border-secondary border-3 Dovemayo_gothic" style="font-size: 24px; font-weight: bold; margin-bottom: 20px;" onclick="recommendations()">ì„¤ë¬¸ê²°ê³¼í™•ì¸</button>
        </form>
        <div id="overlay" style="display:none;"></div>
        <div id="loading-message" style="display: none; font-size: 30px; font-weight: bold;" class="Dovemayo_gothic">ë¡œë”© ì¤‘...</div>
    </div>
    <style>
        body {
            background-image: url("{% static 'images/surveyend.png' %}");
            background-size: 350px;
            background-repeat: no-repeat;
            background-position: center center;
            background-attachment: fixed;
        }
        
        .Protest_Riot {
        color: rgb(1, 1, 1); 
        }

        h1 {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 600px;
            margin: 0;
            font-size: 27px;
            font-weight: bold;
        }
        #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: white;
        opacity: 0.7;
        z-index: 10;
        }

        #loading-message {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 20;
    }
        form {
            position: absolute;
            bottom: 15%; /* ì•„ë˜ì—ì„œ 20% ìœ„ì¹˜ */
            left: 50%;
            transform: translate(-50%, 50%);
        }

    </style>

    <script>
    function recommendations() {
        // ë²„íŠ¼ ë¹„í™œì„±í™”
        var button = document.getElementById('surveyend').querySelector('button');
        button.disabled = true;
        var overlay = document.getElementById('overlay');
        // ë¡œë”© ë©”ì‹œì§€ í‘œì‹œ
        var loadingMessage = document.getElementById('loading-message');
        overlay.style.display = 'block';
        loadingMessage.style.display = 'block';

        // 'result.html'ë¡œ í˜ì´ì§€ ì´ë™
        setTimeout(function() {
            window.location.href = '{% url "Researches:recommendations" %}';
        }); 
    }
</script>
{% endblock %}